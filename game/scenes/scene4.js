class Scene4 extends Scene{

    constructor(){
        super();
        this.background = [[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
        [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
        [0,0,0,0,0,0,109,109,0,0,0,0,0,0,0],
        [0,0,0,109,109,109,109,109,109,109,109,109,0,0,0],
        [0,0,0,109,109,109,109,109,109,109,109,109,0,0,0],
        [0,0,0,109,109,109,109,109,109,109,109,109,0,0,0],
        [0,0,0,109,109,109,109,109,109,109,109,109,0,0,0],
        [0,0,0,109,109,109,109,109,109,109,109,109,0,0,0],
        [0,0,0,109,109,109,109,109,109,109,109,109,0,0,0],
        [0,0,0,109,109,109,109,109,109,109,109,109,0,0,0],
        [0,0,0,109,109,109,109,109,109,109,109,109,0,0,0],
        [0,0,0,109,109,109,109,109,109,109,109,109,0,0,0],
        [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
        [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
        [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]];
        
        this.main = [[126,126,126,126,126,126,126,126,126,126,126,126,126,126,126],
        [126,126,126,126,126,126,111,112,126,126,126,126,126,126,126],
        [126,126,126,126,126,126,123,124,126,126,126,126,126,126,126],
        [126,126,126,-1,-1,-1,-1,-1,-1,-1,-1,-1,126,126,126],
        [126,126,126,-1,-1,-1,-1,-1,-1,-1,-1,-1,126,126,126],
        [126,126,126,-1,-1,-1,-1,-1,-1,-1,-1,-1,126,126,126],
        [126,126,126,-1,-1,-1,-1,-1,-1,-1,-1,-1,126,126,126],
        [126,126,126,-1,-1,-1,-1,-1,-1,-1,-1,-1,126,126,126],
        [126,126,126,-1,-1,-1,-1,-1,-1,-1,-1,-1,126,126,126],
        [126,126,126,-1,-1,-1,-1,-1,-1,-1,-1,-1,126,126,126],
        [126,126,126,-1,-1,-1,-1,-1,-1,-1,-1,-1,126,126,126],
        [126,126,126,-1,-1,-1,-1,-1,-1,-1,-1,-1,126,126,126],
        [126,126,126,126,126,126,126,126,126,126,126,126,126,126,126],
        [126,126,126,126,126,126,126,126,126,126,126,126,126,126,126],
        [126,126,126,126,126,126,126,126,126,126,126,126,126,126,126]];

        this.portal1 = new Sprite(6, 2, -1);
        this.portal2 = new Sprite(7, 2, -1);
        this.bow = new Sprite(5, 7, 118);

        this.sprites = [this.portal1, this.portal2, this.bow];
        
        this.useFixedView = true;
    }

    interaction(player){
        if (player.hasCollided(this.portal1) || player.hasCollided(this.portal2)) {
            world.switchScene(1); 
            player.move(7,7);
        }

        if(player.hasCollided(this.bow)){
            world.addInventory("Bow");
            delete this.sprites[this.sprites.indexOf(this.bow)];
        }
    }
}